{"ast":null,"code":"import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate, Link } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Home from \"./home\";\nimport Profile from \"./components/Profile\";\n\n// const App = () => {\n//   const [auth, setAuth] = useState({\n//     isAuthenticated: false,\n//     user: null,\n//   });\n\n//   useEffect(() => {\n//     const checkAuth = async () => {\n//       const token = localStorage.getItem(\"token\");\n//       const userName = localStorage.getItem(\"username\");\n//       if (token) {\n//         try {\n//           setAuth({\n//             isAuthenticated: true,\n//             user: userName,\n//           });\n//         } catch (error) {\n//           console.error(\"Error fetching user data:\", error);\n//           localStorage.removeItem(\"token\");\n//           localStorage.removeItem(\"username\");\n//           setAuth({\n//             isAuthenticated: false,\n//             user: null,\n//           });\n//         }\n//       }\n//     };\n\n//     checkAuth();\n//   }, []);\n\n//   const handleLogout = () => {\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"username\");\n//     setAuth({ isAuthenticated: false, user: null });\n//   };\n\n//   return (\n//     <Router>\n//       <div>\n//         {auth.isAuthenticated && (\n//           <nav className=\"nav-profile\">\n//             <span className=\"username\">{localStorage.getItem(\"username\")}</span>\n//             <Link to=\"/profile\">\n//               <button>Перейти в профиль</button>\n//             </Link>\n//             <button onClick={handleLogout}>Выйти</button>\n//           </nav>\n//         )}\n//         <Routes>\n//           <Route\n//             path=\"/login\"\n//             element={\n//               auth.isAuthenticated ? (\n//                 <Navigate to=\"/\" />\n//               ) : (\n//                 <Login setAuth={setAuth} />\n//               )\n//             }\n//           />\n//           {/* <Route\n//             path=\"/register\"\n//             element={auth.isAuthenticated ? <Navigate to=\"/\" /> : <Register />}\n//           /> */}\n//           <Route\n//             path=\"/\"\n//             element={auth.isAuthenticated ? <Home /> : <Navigate to=\"/login\" />}\n//           />\n//           <Route\n//             path=\"/profile\"\n//             element={\n//               auth.isAuthenticated ? <Profile /> : <Navigate to=\"/login\" />\n//             }\n//           />\n//         </Routes>\n//       </div>\n//       <div className=\"developer\">\n//         <a href=\"https://t.me/web_gpy\" target=\"_blanc\">\n//           &copy; Web-GPY Software.\n//         </a>{\" \"}\n//         2024 Все права защищены.\n//       </div>\n//     </Router>\n//   );\n// };\n\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Link","Login","Register","Home","Profile","App"],"sources":["C:/Users/USER/Downloads/BamSheet/my-spreadsheet-app/bamapp/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  Link,\r\n} from \"react-router-dom\";\r\nimport Login from \"./components/Login\";\r\nimport Register from \"./components/Register\";\r\nimport Home from \"./home\";\r\nimport Profile from \"./components/Profile\";\r\n\r\n// const App = () => {\r\n//   const [auth, setAuth] = useState({\r\n//     isAuthenticated: false,\r\n//     user: null,\r\n//   });\r\n\r\n//   useEffect(() => {\r\n//     const checkAuth = async () => {\r\n//       const token = localStorage.getItem(\"token\");\r\n//       const userName = localStorage.getItem(\"username\");\r\n//       if (token) {\r\n//         try {\r\n//           setAuth({\r\n//             isAuthenticated: true,\r\n//             user: userName,\r\n//           });\r\n//         } catch (error) {\r\n//           console.error(\"Error fetching user data:\", error);\r\n//           localStorage.removeItem(\"token\");\r\n//           localStorage.removeItem(\"username\");\r\n//           setAuth({\r\n//             isAuthenticated: false,\r\n//             user: null,\r\n//           });\r\n//         }\r\n//       }\r\n//     };\r\n\r\n//     checkAuth();\r\n//   }, []);\r\n\r\n//   const handleLogout = () => {\r\n//     localStorage.removeItem(\"token\");\r\n//     localStorage.removeItem(\"username\");\r\n//     setAuth({ isAuthenticated: false, user: null });\r\n//   };\r\n\r\n//   return (\r\n//     <Router>\r\n//       <div>\r\n//         {auth.isAuthenticated && (\r\n//           <nav className=\"nav-profile\">\r\n//             <span className=\"username\">{localStorage.getItem(\"username\")}</span>\r\n//             <Link to=\"/profile\">\r\n//               <button>Перейти в профиль</button>\r\n//             </Link>\r\n//             <button onClick={handleLogout}>Выйти</button>\r\n//           </nav>\r\n//         )}\r\n//         <Routes>\r\n//           <Route\r\n//             path=\"/login\"\r\n//             element={\r\n//               auth.isAuthenticated ? (\r\n//                 <Navigate to=\"/\" />\r\n//               ) : (\r\n//                 <Login setAuth={setAuth} />\r\n//               )\r\n//             }\r\n//           />\r\n//           {/* <Route\r\n//             path=\"/register\"\r\n//             element={auth.isAuthenticated ? <Navigate to=\"/\" /> : <Register />}\r\n//           /> */}\r\n//           <Route\r\n//             path=\"/\"\r\n//             element={auth.isAuthenticated ? <Home /> : <Navigate to=\"/login\" />}\r\n//           />\r\n//           <Route\r\n//             path=\"/profile\"\r\n//             element={\r\n//               auth.isAuthenticated ? <Profile /> : <Navigate to=\"/login\" />\r\n//             }\r\n//           />\r\n//         </Routes>\r\n//       </div>\r\n//       <div className=\"developer\">\r\n//         <a href=\"https://t.me/web_gpy\" target=\"_blanc\">\r\n//           &copy; Web-GPY Software.\r\n//         </a>{\" \"}\r\n//         2024 Все права защищены.\r\n//       </div>\r\n//     </Router>\r\n//   );\r\n// };\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,aAAa,IAAIC,MAAM,EACvBC,MAAM,EACNC,KAAK,EACLC,QAAQ,EACRC,IAAI,QACC,kBAAkB;AACzB,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,OAAO,MAAM,sBAAsB;;AAE1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}