{"ast":null,"code":"useEffect(() => {\n  const checkAuth = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      try {\n        const response = await axios.get(\"http://localhost:5000/api/user\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log(\"User data:\", response.data);\n        setAuth({\n          isAuthenticated: true,\n          user: response.data\n        });\n      } catch (error) {\n        var _error$response, _error$response2;\n        console.error(\"Fetch user error:\", (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n        localStorage.removeItem(\"token\");\n        setAuth({\n          isAuthenticated: false,\n          user: null\n        });\n      }\n    } else {\n      setAuth({\n        isAuthenticated: false,\n        user: null\n      });\n    }\n  };\n  checkAuth();\n}, []);","map":{"version":3,"names":["useEffect","checkAuth","token","localStorage","getItem","response","axios","get","headers","Authorization","console","log","data","setAuth","isAuthenticated","user","error","_error$response","_error$response2","status","message","removeItem"],"sources":["C:/Users/USER/Downloads/BamSheet/my-spreadsheet-app/bamapp/src/App.js"],"sourcesContent":["useEffect(() => {\n  const checkAuth = async () => {\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      try {\n        const response = await axios.get(\"http://localhost:5000/api/user\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        console.log(\"User data:\", response.data);\n        setAuth({\n          isAuthenticated: true,\n          user: response.data,\n        });\n      } catch (error) {\n        console.error(\n          \"Fetch user error:\",\n          error.response?.status,\n          error.response?.data || error.message\n        );\n        localStorage.removeItem(\"token\");\n        setAuth({\n          isAuthenticated: false,\n          user: null,\n        });\n      }\n    } else {\n      setAuth({ isAuthenticated: false, user: null });\n    }\n  };\n\n  checkAuth();\n}, []);\n"],"mappings":"AAAAA,SAAS,CAAC,MAAM;EACd,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIF,KAAK,EAAE;MACT,IAAI;QACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,gCAAgC,EAAE;UACjEC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUP,KAAK;UAAG;QAC9C,CAAC,CAAC;QACFQ,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEN,QAAQ,CAACO,IAAI,CAAC;QACxCC,OAAO,CAAC;UACNC,eAAe,EAAE,IAAI;UACrBC,IAAI,EAAEV,QAAQ,CAACO;QACjB,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;QAAA,IAAAC,eAAA,EAAAC,gBAAA;QACdR,OAAO,CAACM,KAAK,CACX,mBAAmB,GAAAC,eAAA,GACnBD,KAAK,CAACX,QAAQ,cAAAY,eAAA,uBAAdA,eAAA,CAAgBE,MAAM,EACtB,EAAAD,gBAAA,GAAAF,KAAK,CAACX,QAAQ,cAAAa,gBAAA,uBAAdA,gBAAA,CAAgBN,IAAI,KAAII,KAAK,CAACI,OAChC,CAAC;QACDjB,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC;QAChCR,OAAO,CAAC;UACNC,eAAe,EAAE,KAAK;UACtBC,IAAI,EAAE;QACR,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLF,OAAO,CAAC;QAAEC,eAAe,EAAE,KAAK;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;IACjD;EACF,CAAC;EAEDd,SAAS,CAAC,CAAC;AACb,CAAC,EAAE,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}